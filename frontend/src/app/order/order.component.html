<nav class="navbar navbar-expand-sm">
  <div>
    <a mat-button routerLink="order" routerLinkActive="active" class="logo-button">
      <img src="assets/image/logo.png" class="logo" width="150">
      <span class="logo-title">
      </span>
    </a>
  </div>
  <div>
    <button mat-button [matMenuTriggerFor]="aboveMenu">
      <img src="assets/image/default-avatar.png" class="avatar">
      {{currentUser.user.email}}
      <mat-icon>more_vert</mat-icon>
    </button>
    <mat-menu #aboveMenu="matMenu" yPosition="above" xPosition="before">
      <button mat-menu-item (click)="logout()">
        <mat-icon>power_settings_new</mat-icon>
        Log out
      </button>
    </mat-menu>
  </div>
</nav>
<div class="p-4">
  <div class="mat-elevation-z8">
    <table mat-table [dataSource]="dataSource" matSort class="full-width">

      <!-- Name Column -->
      <ng-container matColumnDef="first_name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> First Name </th>
        <td mat-cell *matCellDef="let element" data-label="First Name"> {{element.first_name}} </td>
      </ng-container>

      <ng-container matColumnDef="last_name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Last Name </th>
        <td mat-cell *matCellDef="let element" data-label="Last Name"> {{element.last_name}} </td>
      </ng-container>

      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Email </th>
        <td mat-cell *matCellDef="let element" data-label="Email"> {{element.email}} </td>
      </ng-container>

      <ng-container matColumnDef="total_amount">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Total Amount </th>
        <td mat-cell *matCellDef="let element" data-label="Total Amount"> {{element.total_amount}} </td>
      </ng-container>

      <ng-container matColumnDef="timestamp">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Timestamp </th>
        <td mat-cell *matCellDef="let element" data-label="Timestamp"> {{element.timestamp}} </td>
      </ng-container>

      <ng-container matColumnDef="waiting_time_min">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Waiting Time(min) </th>
        <td mat-cell *matCellDef="let element" data-label="Waiting Time(min)">
          <div *ngIf="element.waiting_time_min === null">
            <mat-chip-list aria-label="Fish selection">
              <mat-chip color="accent" selected>pending</mat-chip>
            </mat-chip-list>
          </div>
          <div *ngIf="element.waiting_time_min !== null">
            {{element.waiting_time_min}}
          </div>
        </td>
      </ng-container>

      <ng-container matColumnDef="order_details">
        <th mat-header-cell *matHeaderCellDef class="text-center"> Details </th>
        <td mat-cell *matCellDef="let element" class="action-field text-center" data-label="Details">
          <a href="javascript:void(0)" (click)="viewDetails(element.id)">
            <mat-icon>view_headline</mat-icon>
          </a>
        </td>
      </ng-container>

      <!-- Action Column -->
      <ng-container matColumnDef="action">
        <th mat-header-cell *matHeaderCellDef class="text-center"> Action </th>
        <td mat-cell *matCellDef="let element" class="action-field text-center" data-label="Action">
          <a href="javascript:void(0)" (click)="handleAction(element.id)">
            <mat-icon>done_all</mat-icon>
          </a>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>

    <mat-paginator [pageSizeOptions]="[10, 15, 20]" showFirstLastButtons></mat-paginator>
  </div>
</div>
